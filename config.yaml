# å²©çŸ³é¢—ç²’è‡ªåŠ¨åˆ†å‰²ç³»ç»Ÿé…ç½®æ–‡ä»¶

# ===== æ¨¡å‹è·¯å¾„é…ç½® =====
model_paths:
  # YOLOæ¨¡å‹è·¯å¾„
  yolo: "../models/best.pt"
  # SAMæ¨¡å‹è·¯å¾„
  sam: "../models/sam_vit_h_4b8939.pth"
  # SAMæ¨¡å‹ç±»å‹ï¼ˆvit_h, vit_l, vit_bï¼‰
  sam_type: "vit_h"

# ===== æ¯”ä¾‹å°ºæ£€æµ‹é…ç½® =====
scale_detection:
  enabled: true  # æ˜¯å¦å¯ç”¨æ¯”ä¾‹å°ºæ£€æµ‹å’Œé¢ç§¯æ¢ç®—
  known_length_um: 1000.0  # âš ï¸ æ‰‹åŠ¨æ›´æ”¹ï¼šå›¾ç‰‡ä¸Šæ¯”ä¾‹å°ºçš„å®é™…é•¿åº¦ï¼ˆå¾®ç±³ï¼‰
  
  # æ£€æµ‹å‚æ•°ï¼ˆä¸€èˆ¬æ— éœ€ä¿®æ”¹ï¼‰
  detection_params:
    red_lower1: [0, 120, 120]
    red_upper1: [10, 255, 255]
    red_lower2: [160, 120, 120]
    red_upper2: [180, 255, 255]
    crop_height: 220
    crop_width: 600
    search_margin: 80
    min_aspect_ratio: 8
    min_horizontal_score: 0.6

# ===== å¤„ç†å‚æ•°é…ç½® =====
processing:
  # æ£€æµ‹ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆ0-1ä¹‹é—´ï¼Œè¶Šå°æ£€æµ‹è¶Šå¤šï¼‰
  confidence_threshold: 0.01
  # æœ€å°é¢—ç²’é¢ç§¯ï¼ˆåƒç´ æ•°ï¼Œå°äºæ­¤å€¼çš„é¢—ç²’ä¼šè¢«è¿‡æ»¤æ‰ï¼‰
  min_area: 30
  # æœ€å°æ£€æµ‹æ¡†é¢ç§¯ï¼ˆåƒç´ æ•°ï¼‰
  min_bbox_area: 20
  # æ˜¯å¦ç§»é™¤è¾¹ç¼˜é¢—ç²’ï¼ˆTrue/Falseï¼‰
  remove_edge_grains: false
  # æ˜¯å¦æ˜¾ç¤ºç»“æœå›¾
  plot_results: true

# ===== è¾“å‡ºé…ç½® =====
output:
  # ç»“æœæ ¹ç›®å½•
  root_dir: "results"
  # æ˜¯å¦æŒ‰å›¾ç‰‡ååˆ›å»ºå­ç›®å½•
  create_subdirs: true
  # ä¿å­˜å¯è§†åŒ–ç»“æœå›¾
  save_visualization: true
  # ä¿å­˜åˆ†å‰²æ©ç 
  save_mask: true
  # ä¿å­˜ç»Ÿè®¡è¡¨æ ¼ï¼ˆCSVæ ¼å¼ï¼‰
  save_statistics: true
  # ä¿å­˜JSONæ ¼å¼çš„æ±‡æ€»ä¿¡æ¯
  save_summary: true

# ===== æ‰¹é‡å¤„ç†é…ç½® =====
batch_processing:
  # æ”¯æŒçš„å›¾ç‰‡æ ¼å¼
  supported_formats: [".tif", ".tiff", ".jpg", ".jpeg", ".png", ".bmp"]
  # é‡åˆ°æŸåå›¾ç‰‡æ˜¯å¦è·³è¿‡
  skip_corrupted: true
  # æ˜¯å¦è®°å½•é”™è¯¯æ—¥å¿—
  log_errors: true

# ===== æ—¥å¿—é…ç½® =====
logging:
  # æ—¥å¿—çº§åˆ«ï¼šDEBUG, INFO, WARNING, ERROR
  level: "INFO"
  # æ˜¯å¦ä¿å­˜åˆ°æ–‡ä»¶
  save_to_file: true
  # æ˜¯å¦åœ¨æ§åˆ¶å°æ˜¾ç¤º
  show_in_console: true

# ===== é¢—ç²’æ ‡æ³¨é…ç½® =====
grain_labeling:
  enabled: true           # æ˜¯å¦å¯ç”¨é¢—ç²’æ ‡æ³¨
  font_size: 11          # å­—ä½“å¤§å°ï¼ˆå»ºè®®11-14ï¼‰
  text_color: "yellow"   # æ–‡å­—é¢œè‰²ï¼ˆé»„è‰²åœ¨å²©çŸ³å›¾ä¸Šæ›´é†’ç›®ï¼‰
  bg_color: ""           # ğŸ†• ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæ— èƒŒæ™¯æ¡†
  show_area: true        # æ˜¯å¦æ˜¾ç¤ºé¢ç§¯
  max_labels: 1000       # ğŸ†• å¯†é›†åŒºåŸŸæœ€å¤§æ ‡æ³¨æ•°ï¼ˆè®¾ç½®å¤§å€¼ä»¥æ ‡æ³¨æ‰€æœ‰ï¼‰
  min_area: 0            # ğŸ†• æœ€å°æ ‡æ³¨é¢ç§¯ï¼ˆ0è¡¨ç¤ºæ‰€æœ‰é¢—ç²’éƒ½æ ‡æ³¨ï¼‰
  text_outline: true     # ğŸ†• æ˜¯å¦æ·»åŠ æ–‡å­—æè¾¹ï¼ˆæ— èƒŒæ™¯æ—¶å»ºè®®å¼€å¯ï¼‰
  outline_color: "black" # ğŸ†• æè¾¹é¢œè‰²
  outline_width: 2.0     # ğŸ†• æè¾¹å®½åº¦